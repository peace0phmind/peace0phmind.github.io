<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ubuntu on Mind's Home</title><link>https://peace0phmind.github.io/tags/ubuntu/</link><description>Recent content in ubuntu on Mind's Home</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Thu, 16 Feb 2023 16:38:11 +0800</lastBuildDate><atom:link href="https://peace0phmind.github.io/tags/ubuntu/rss.xml" rel="self" type="application/rss+xml"/><item><title>Ubuntu as Switch</title><link>https://peace0phmind.github.io/posts/202302/ubuntu-as-switch/</link><pubDate>Thu, 16 Feb 2023 16:38:11 +0800</pubDate><guid>https://peace0phmind.github.io/posts/202302/ubuntu-as-switch/</guid><description>use netplan to config bridge /etc/netplan sudo nano 00-installer-config.yaml network: version: 2 ethernets: enp2s0: dhcp4: no enp3s0: dhcp4: no enp4s0: dhcp4: no enp5s0: dhcp4: no bridges: br0: dhcp4: yes interfaces: - enp2s0 - enp3s0 - enp4s0 - enp5s0 parameters: stp: true config sysctl to disable ubuntu ethernet filtering cd /etc sudo nano sysctl.conf net.bridge.bridge-nf-call-ip6tables = 0 net.bridge.bridge-nf-call-iptables = 0 net.bridge.bridge-nf-call-arptables = 0 add crontab to enable sysctl config sudo crontab -e @reboot /bin/sleep 5 &amp;amp;&amp;amp; /sbin/sysctl -p reboot to check sudo reboot Reference netplan: Configuring network bridges Bridged Networking No traffic gets trough (except ARP and STP) Linux Bridge (brctl) not passing the traffic Some sysctls are ignored on boot BridgeNetworkConnections</description></item></channel></rss>